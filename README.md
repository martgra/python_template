# Python Template

![CI](https://github.com/martgra/python_template/actions/workflows/ci.yaml/badge.svg?branch=main)
![Python](https://img.shields.io/badge/python-3.10%2B-blue?logo=python\&logoColor=white)
[![Copier](https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/copier-org/copier/master/img/badge/badge-grayscale-inverted-border-orange.json)](https://github.com/copier-org/copier)

A minimal Python project template designed for development in [Visual Studio Code](https://code.visualstudio.com/).
It uses modern tools like [uv](https://docs.astral.sh/uv/getting-started/installation/) for dependency management,
[Ruff](https://docs.astral.sh/ruff/) and [Pylint](https://pylint.pycqa.org/en/latest/) for linting,
[prek](https://github.com/j178/prek) for managing pre-commit hooks, and
[pytest](https://docs.pytest.org/) for testing.
An optional devcontainer allows you to spin up a reproducible environment using Docker.

## Prerequisites

* **VSCode** – install the editor and the Python extension.
* **uv** – used for installing, locking, and managing dependencies. See the [uv installation guide](https://docs.astral.sh/uv/getting-started/installation/).
* **Docker (optional)** – only required if you want to develop inside a VSCode devcontainer.

## Genereate as a template

The easiest way to get started is generating the project with [Copier](https://copier.readthedocs.io/en/stable/generating/)!

```bash
uvx copier copy gh:martgra/python_template --trust <destination>
```

## Project structure

```text
├── README.md
├── .vscode/                 # VSCode settings
├── .devcontainer/           # Optional devcontainer definitions
├── python_package/          # Your Python package
├── tests/                   # Unit tests
├── pyproject.toml           # Project metadata and dependencies
├── uv.lock                  # Lock file generated by uv
├── .pre-commit-config.yaml  # Pre-commit/prek hooks
└── .gitignore
```

Python ≥ 3.10 is expected locally; the devcontainer pins Python 3.13 for parity.

## Getting started

1. **Install dependencies**

   ```bash
   uv sync
   ```

   Creates a virtual environment, installs dependencies and dev tools, and adds the source folder to your `PYTHONPATH`.

2. **Initialize git hooks**

   ```bash
   uv run prek install
   ```

## Linting and hooks

Linting and code quality checks are configured in `pyproject.toml` and enforced via `prek` hooks.
Main tools:

* **Ruff** – fast linting and formatting
* **Pylint** – static analysis
* **Deptry** – unused/missing dependencies
* **Vulture** – dead code detection
* **detect-secrets** – secret scanning

See the [prek docs](https://github.com/j178/prek) for details.

## Testing

Uses [pytest](https://docs.pytest.org/) with optional [pytest-cov](https://pytest-cov.readthedocs.io/):

```bash
uv run pytest tests
```

To include coverage:

```bash
uv run pytest --cov=python_package tests
```

## Devcontainer (optional)

If you prefer a containerized setup:

1. Install Docker and the [Dev Containers](https://code.visualstudio.com/docs/devcontainers/containers) extension.
2. In VSCode, open **Dev Containers: Open Folder in Container**.
3. The container preinstalls `uv` and `prek` and runs a frozen sync.

See [VSCode’s devcontainer docs](https://code.visualstudio.com/docs/devcontainers/containers) for more details.

## License and acknowledgements

Distributed under the **MIT License**.
